[mypy]
python_version = 3.11
strict = True
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = True
no_implicit_optional = True

# Exclude external packages with compatibility issues
exclude = .*/site-packages/mcp/.*

# Ignore external packages that may have compatibility issues
[mypy-mcp.*]
ignore_errors = True
follow_imports = skip
ignore_missing_imports = True

[mypy-airflow_ai_sdk.*]
ignore_missing_imports = True

[mypy-apache_airflow.*]
ignore_missing_imports = True

[mypy-pydantic_ai.*]
ignore_missing_imports = True

# Allow some flexibility for our own modules during development
[mypy-airflow_ai_bridge.mcp]
warn_return_any = False

[mypy-airflow_ai_bridge.tools]
warn_return_any = False

[mypy-airflow_ai_bridge.decorators]
warn_return_any = False

[mypy-airflow_ai_bridge.pool]
warn_return_any = False